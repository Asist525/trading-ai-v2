# Django 백엔드용 Dockerfile
FROM python:3.10-slim

# 작업 디렉터리 설정
WORKDIR /app

# 의존성 파일 복사 및 설치
COPY requirements.txt .
RUN pip install -r requirements.txt

# 애플리케이션 소스 복사
COPY . .

# 환경변수 설정 (예: Django 설정 모듈)
ENV PYTHONUNBUFFERED=1
ENV DJANGO_SETTINGS_MODULE=backend.settings

# 컨테이너 실행 시 Django 애플리케이션 구동 (Gunicorn 사용)
EXPOSE 8000
CMD ["daphne", "-b", "0.0.0.0", "-p", "8000", "backend.asgi:application"]

